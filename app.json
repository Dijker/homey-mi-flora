{
    "id": "com.koktail.homey-mi-flora",
    "sdk": 2,
    "name": {
        "en": "Xiaomi Mi Flora Sensor",
        "nl": "Xiaomi Mi Flora Sensor"
    },
    "description": {
        "en": "Integrate Xiaomi Mi Flora Sensor into Homey",
        "nl": "Integreer Xiaomi Mi Flora Sensor in Homey"
    },
    "category": [
        "tools",
        "climate",
        "appliances"
    ],
    "version": "1.0.0",
    "compatibility": ">=1.5.0",
    "tags": {
        "en": [
            "xiaomi",
            "xiaomi mi",
            "plant",
            "sensor",
            "temperature",
            "luminance",
            "humidity",
            "nutrition"
        ],
        "nl": [
            "xiaomi",
            "xiaomi mi",
            "plant",
            "sensor",
            "temperatuur",
            "licht",
            "vochtigheid",
            "voeding"
        ]
    },
    "images": {
        "small": "/assets/images/small.png",
        "large": "/assets/images/large.png"
    },
    "author": {
        "name": "Leendert De Kok",
        "email": "koktaildotcom@hotmail.com"
    },
    "contributing": {
        "donate": {
            "paypal": {
                "username": "koktaildotcom@hotmail.com"
            }
        }
    },
    "capabilities": {
        "measure_conductivity": {
            "type": "number",
            "title": {
                "en": "Conductivity",
                "nl": "Geleidingsvermogen"
            },
            "getable": true,
            "setable": true,
            "units": {
                "en": "µS/cm",
                "nl": "µS/cm"
            },
            "min": 0,
            "max": 5000,
            "step": 1
        },
        "measure_moisture": {
            "type": "number",
            "title": {
                "en": "Moisture",
                "nl": "Vochtigheid"
            },
            "getable": true,
            "setable": true,
            "units": {
                "en": "%",
                "nl": "%"
            },
            "min": 0,
            "max": 100,
            "step": 1
        }
    },
    "drivers": [
        {
            "id": "mi_flora",
            "name": {
                "en": "Xiaomi Mi Flora Sensor",
                "nl": "Xiaomi Mi Flora Sensor"
            },
            "images": {
                "small": "/drivers/mi_flora/assets/images/small.png",
                "large": "/drivers/mi_flora/assets/images/large.png"
            },
            "class": "other",
            "capabilities": [
                "measure_temperature",
                "measure_luminance",
                "measure_conductivity",
                "measure_moisture",
                "measure_battery"
            ],
            "pair": [
                {
                    "id": "list_devices",
                    "template": "list_devices",
                    "navigation": {
                        "next": "add_devices"
                    }
                },
                {
                    "id": "add_devices",
                    "template": "add_devices"
                }
            ],
            "settings": [
                {
                    "type": "group",
                    "label": {
                        "en": "Device info",
                        "nl": "Apparaat informatie"
                    },
                    "children": [
                        {
                            "id": "firmware_version",
                            "type": "label",
                            "label": {
                                "en": "Firmware version",
                                "nl": "Firmware versie"
                            },
                            "value": ""
                        },
                        {
                            "id": "last_updated",
                            "type": "label",
                            "label": {
                                "en": "Last updated",
                                "nl": "Laatste update"
                            },
                            "value": ""
                        }
                    ]
                },
                {
                    "type": "group",
                    "label": {
                        "en": "Temperature (°C)",
                        "nl": "Temperatuur (°C)"
                    },
                    "children": [
                        {
                            "id": "measure_temperature_min",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "min",
                                "nl": "min"
                            }
                        },
                        {
                            "id": "measure_temperature_max",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "max",
                                "nl": "max"
                            }
                        }
                    ]
                },
                {
                    "type": "group",
                    "label": {
                        "en": "Luminance (lux)",
                        "nl": "Lichtintensiteit (lux)"
                    },
                    "children": [
                        {
                            "id": "measure_luminance_min",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "min",
                                "nl": "min"
                            }
                        },
                        {
                            "id": "measure_luminance_max",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "max",
                                "nl": "max"
                            }
                        }
                    ]
                },
                {
                    "type": "group",
                    "label": {
                        "en": "Nutrition (µS/cm)",
                        "nl": "Voeding (µS/cm)"
                    },
                    "children": [
                        {
                            "id": "measure_conductivity_min",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "min",
                                "nl": "min"
                            }
                        },
                        {
                            "id": "measure_conductivity_max",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "max",
                                "nl": "max"
                            }
                        }
                    ]
                },
                {
                    "type": "group",
                    "label": {
                        "en": "Moisture (%)",
                        "nl": "Vochtigheid (%)"
                    },
                    "children": [
                        {
                            "id": "measure_moisture_min",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "min",
                                "nl": "min"
                            }
                        },
                        {
                            "id": "measure_moisture_max",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "max",
                                "nl": "max"
                            }
                        }
                    ]
                }
            ],
            "mobile": {
                "components": [
                    {
                        "id": "icon"
                    },
                    {
                        "id": "battery"
                    },
                    {
                        "id": "sensor",
                        "capabilities": [
                            "measure_temperature",
                            "measure_luminance",
                            "measure_conductivity",
                            "measure_moisture",
                            "measure_battery"
                        ],
                        "options": {
                            "icons": {
                                "measure_temperature": "/assets/temperature.svg",
                                "measure_luminance": "/assets/luminance1.svg",
                                "measure_conductivity": "/assets/fertilizer.svg",
                                "measure_moisture": "/assets/moisture.svg"
                            }
                        }
                    }
                ]
            }
        }
    ],
    "flow": {
        "triggers": [
            {
                "id": "sensor_changed",
                "title": {
                    "en": "A sensor value is changed",
                    "nl": "Een sensor waarde is veranderd"
                },
                "tokens": [
                    {
                        "name": "device",
                        "title": {
                            "en": "device",
                            "nl": "apparaat"
                        },
                        "example": {
                            "en": "Flowercare 1",
                            "nl": "Flowercare 1"
                        }
                    },
                    {
                        "name": "sensor",
                        "title": {
                            "en": "sensor",
                            "nl": "sensor"
                        },
                        "example": {
                            "en": "measure_temperature",
                            "nl": "measure_temperature"
                        }
                    },
                    {
                        "name": "value",
                        "title": {
                            "en": "value",
                            "nl": "waarde"
                        },
                        "example": {
                            "en": "22.5",
                            "nl": "22.5"
                        }
                    }
                ]
            }
        ]
    }
}