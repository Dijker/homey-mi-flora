{
    "id": "com.koktail.homey-mi-flora",
    "sdk": 2,
    "name": {
        "en": "Xiaomi Mi Flora Plant Sensor"
    },
    "description": {
        "en": "Integrate Xiaomi Mi Flora Plant Sensor into Homey"
    },
    "category": [
        "tools",
        "climate",
        "appliances"
    ],
    "version": "1.0.0",
    "compatibility": ">=1.5.0",
    "author": {
        "name": "Leendert De Kok",
        "email": "koktaildotcom@hotmail.com"
    },
    "contributing": {
        "donate": {
            "paypal": {
                "username": "koktaildotcom@hotmail.com"
            }
        }
    },
    "capabilities": {
        "measure_conductivity": {
            "type": "number",
            "title": {
                "en": "Conductivity",
                "nl": "Geleidingsvermogen"
            },
            "getable": true,
            "setable": true,
            "units": {
                "en": "µS/cm",
                "nl": "µS/cm"
            },
            "min": 0,
            "max": 5000,
            "step": 1
        }
    },
    "drivers": [
        {
            "id": "mi_flora",
            "name": {
                "en": "Xiaomi Mi Flora Plant Sensor",
                "nl": "Xiaomi Mi Flora Plant Sensor"
            },
            "class": "socket",
            "capabilities": [
                "measure_temperature",
                "measure_luminance",
                "measure_humidity",
                "measure_conductivity",
                "measure_battery"
            ],
            "pair": [
                {
                    "id": "list_devices",
                    "template": "list_devices",
                    "navigation": {
                        "next": "add_devices"
                    }
                },
                {
                    "id": "add_devices",
                    "template": "add_devices"
                }
            ],
            "settings": [
                {
                    "type": "group",
                    "label": {
                        "en": "Update settings"
                    },
                    "children": [
                        {
                            "id": "updateInterval",
                            "type": "number",
                            "value": 5,
                            "label": {
                                "en": "The interval"
                            },
                            "hint": {
                                "en": "The interval in seconds of updating the sensors"
                            }
                        }
                    ]
                },
                {
                    "type": "group",
                    "label": {
                        "en": "Plant temperature"
                    },
                    "children": [
                        {
                            "id": "minTemperature",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "min"
                            }
                        },
                        {
                            "id": "maxTemperature",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "max"
                            }
                        }
                    ]
                },
                {
                    "type": "group",
                    "label": {
                        "en": "Plant luminance"
                    },
                    "children": [
                        {
                            "id": "minLuminance",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "min"
                            }
                        },
                        {
                            "id": "maxLuminance",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "max"
                            }
                        }
                    ]
                },
                {
                    "type": "group",
                    "label": {
                        "en": "Plant humidity"
                    },
                    "children": [
                        {
                            "id": "minHumidity",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "min"
                            }
                        },
                        {
                            "id": "maxHumidity",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "max"
                            }
                        }
                    ]
                },
                {
                    "type": "group",
                    "label": {
                        "en": "Plant conductivity"
                    },
                    "children": [
                        {
                            "id": "minConductivity",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "min"
                            }
                        },
                        {
                            "id": "maxConductivity",
                            "type": "number",
                            "value": 0,
                            "label": {
                                "en": "max"
                            }
                        }
                    ]
                }
            ],
            "mobile": {
                "components": [
                    {
                        "id": "icon"
                    },
                    {
                        "id": "battery"
                    },
                    {
                        "id": "sensor",
                        "capabilities": [
                            "measure_temperature",
                            "measure_luminance",
                            "measure_humidity",
                            "measure_conductivity"
                        ],
                        "options": {
                            "icons": {
                                "measure_conductivity": "/assets/flower.svg"
                            }
                        }
                    }
                ]
            }
        }
    ],
    "flow":{
        "triggers":[
            {
                "id":"sensor_changed",
                "title":{
                    "en":"A sensor value is changed",
                    "nl":"Een sensor waarde is veranderd"
                },
                "tokens":[
                    {
                        "name":"variable",
                        "title":{
                            "en":"variable",
                            "nl":"variabele"
                        },
                        "example":{
                            "en":"onoff",
                            "nl":"aanuit"
                        }
                    },
                    {
                        "name":"value",
                        "title":{
                            "en":"value",
                            "nl":"waarde"
                        },
                        "example":{
                            "en":"true",
                            "nl":"true"
                        }
                    }
                ]
            }
        ]
    }
}